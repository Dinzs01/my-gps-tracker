<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live GPS Tracker</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: sans-serif; text-align: center; padding-top: 50px; }
        #startBtn { 
            position: relative; z-index: 1000; 
            padding: 20px; background: #28a745; color: white; 
            border: none; border-radius: 12px; font-size: 22px;
            width: 90%; max-width: 300px;
        }
        #startBtn:active { background: #1e7e34; }
    </style>
</head>
<body>
    <h2>Phone GPS Tracker</h2>
    <button id="startBtn" type="button">Start Sharing My Location</button>
    <p id="status">Ready to track...</p>

    <script>
        const firebaseConfig = { databaseURL: "https://gps-tracker-pro-9913a-default-rtdb.asia-southeast1.firebasedatabase.app/" };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const startBtn = document.getElementById('startBtn');

        startBtn.onclick = function() {
        alert("Button Tap Detected!"); // 1. Confirm the tap works
        
        if (!navigator.geolocation) {
            alert("Your browser blocks GPS or doesn't support it.");
            return;
        }

        navigator.geolocation.getCurrentPosition(
            (pos) => {
                alert("GPS Found! Sending to Firebase..."); // 2. Confirm GPS works
                database.ref('live_location').set({
                    latitude: pos.coords.latitude,
                    longitude: pos.coords.longitude,
                    timestamp: new Date().toISOString()
                }).then(() => {
                    alert("âœ… Data is in Firebase!");
                });
            },
            (err) => {
                // 3. This tells us EXACTLY why it failed
                alert("Error Code: " + err.code + " - " + err.message);
            },
            { enableHighAccuracy: true, timeout: 10000 }
        );
    };
    </script>
</body>
</html>




